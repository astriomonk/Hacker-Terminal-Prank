<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hacker Terminal Lock Screen</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');
  html, body {
    margin: 0; padding: 0; height: 100%;
    background: black;
    overflow: hidden;
    font-family: 'Share Tech Mono', monospace;
    color: #00ff00;
    user-select: none;
  }
  #binary-bg {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none;
    z-index: 0;
  }
  #color-cycle {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none;
    z-index: 1;
    mix-blend-mode: screen;
    animation: colorShift 20s linear infinite;
  }
  @keyframes colorShift {
    0% { filter: hue-rotate(0deg);}
    100% { filter: hue-rotate(360deg);}
  }
  #terminal {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: transparent;
    padding: 20px;
    box-sizing: border-box;
    font-size: 14px;
    line-height: 1.3em;
    overflow-y: auto;
    white-space: pre-wrap;
    outline: none;
    z-index: 2;
  }
  .glitch {
    animation: glitch 0.2s infinite alternate;
  }
  @keyframes glitch {
    0% {
      text-shadow:
        2px 0 red,
        -2px 0 cyan;
    }
    100% {
      text-shadow:
        -2px 0 red,
        2px 0 cyan;
    }
  }
  #lock-screen {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: #000;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 10;
  }
  #lock-screen input {
    background: transparent;
    border: 2px solid #00ff00;
    color: #00ff00;
    font-family: 'Share Tech Mono', monospace;
    font-size: 22px;
    padding: 10px 20px;
    width: 180px;
    text-align: center;
    outline: none;
  }
  #lock-screen input::placeholder {
    color: #00ff00aa;
  }
  /* Glowing digital lock shape using CSS */
  #digital-lock {
    width: 130px;
    height: 130px;
    margin-bottom: 30px;
    border: 6px solid #00ff00;
    border-radius: 25% 25% 40% 40% / 50% 50% 40% 40%;
    position: relative;
    box-shadow:
      0 0 15px #00ff00,
      inset 0 0 15px #00ff00,
      0 0 30px #00ff00aa;
  }
  #digital-lock::before {
    content: "";
    position: absolute;
    top: 15px; left: 38px;
    width: 55px; height: 60px;
    border: 6px solid #00ff00;
    border-radius: 10px;
    box-shadow:
      0 0 10px #00ff00,
      inset 0 0 10px #00ff00;
    background: transparent;
  }
  #digital-lock::after {
    content: "";
    position: absolute;
    bottom: 20px; left: 47px;
    width: 35px; height: 25px;
    border: 6px solid #00ff00;
    border-top: none;
    border-radius: 0 0 10px 10px;
    box-shadow:
      0 0 10px #00ff00,
      inset 0 0 10px #00ff00;
    background: transparent;
  }
  /* Hidden class to hide lock screen */
  .hidden {
    display: none !important;
  }
</style>
</head>
<body>

<!-- Binary Background Canvas -->
<canvas id="binary-bg"></canvas>

<!-- Color cycling overlay -->
<div id="color-cycle"></div>

<!-- Terminal text area -->
<div id="terminal" tabindex="0" spellcheck="false"></div>

<!-- Lock Screen with passcode input -->
<div id="lock-screen">
  <div id="digital-lock" title="Secure Lock"></div>
  <input
    id="pass-input"
    type="password"
    placeholder="Enter Passcode"
    autocomplete="off"
    maxlength="10"
    autofocus
  />
</div>

<script>
  // Binary background
  const canvas = document.getElementById('binary-bg');
  const ctx = canvas.getContext('2d');
  let width, height;
  let columns;
  let drops = [];
  const binaryChars = ['0', '1'];
  function resize() {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
    columns = Math.floor(width / 14);
    drops = [];
    for(let i = 0; i < columns; i++) {
      drops[i] = Math.random() * height;
    }
  }
  window.addEventListener('resize', resize);
  resize();

  function draw() {
    ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
    ctx.fillRect(0, 0, width, height);
    ctx.fillStyle = '#00ff00';
    ctx.font = '14px monospace';
    for(let i = 0; i < columns; i++) {
      const text = binaryChars[Math.floor(Math.random() * binaryChars.length)];
      ctx.fillText(text, i * 14, drops[i] * 14);
      drops[i] = drops[i] * 14 > height && Math.random() > 0.975 ? 0 : drops[i] + 0.8;
    }
    requestAnimationFrame(draw);
  }
  draw();

  // Terminal typing commands
  const terminal = document.getElementById('terminal');
  const commands = [
    "Connecting to mainframe...",
    "Access granted.",
    "Downloading secret data...",
    "Bypassing firewall...",
    "Decrypting files...",
    "Loading user credentials...",
    "Injecting virus payload...",
    "Compiling exploit modules...",
    "Launching remote shell...",
    "Establishing encrypted channel...",
    "System scan complete.",
    "Backdoor installed.",
    "Packet sniffing in progress...",
    "Firewall disabled.",
    "Privilege escalation successful.",
    "Wiping logs...",
    "Disconnecting."
  ];

  let typingIndex = 0;
  let charIndex = 0;
  let isDeleting = false;
  let typingDelay = 140;
  let pauseDelay = 1800;
  let typingTimer;
  let terminalContent = '';

  function typeCommand() {
    if (!terminal) return;
    const currentCommand = commands[typingIndex];
    if (!isDeleting) {
      terminalContent += currentCommand.charAt(charIndex);
      charIndex++;
      terminal.textContent = terminalContent;
      terminal.scrollTop = terminal.scrollHeight;
      if (charIndex === currentCommand.length) {
        isDeleting = true;
        typingTimer = setTimeout(typeCommand, pauseDelay);
      } else {
        typingTimer = setTimeout(typeCommand, typingDelay);
      }
    } else {
      terminalContent = terminalContent.slice(0, -1);
      terminal.textContent = terminalContent;
      terminal.scrollTop = terminal.scrollHeight;
      if (terminalContent.endsWith(currentCommand.slice(0, charIndex - 1))) {
        charIndex--;
        typingTimer = setTimeout(typeCommand, typingDelay / 2);
      }
      if (charIndex === 0) {
        isDeleting = false;
        typingIndex = (typingIndex + 1) % commands.length;
        typingTimer = setTimeout(typeCommand, typingDelay);
      }
    }
  }

  // Start typing only after unlock
  let unlocked = false;
  function startTerminal() {
    if (!unlocked) {
      unlocked = true;
      terminal.textContent = '';
      terminalContent = '';
      typingIndex = 0;
      charIndex = 0;
      isDeleting = false;
      typeCommand();
      terminal.focus();
    }
  }

  // Lock screen and passcode handling
  const lockScreen = document.getElementById("lock-screen");
  const passInput = document.getElementById("pass-input");

  passInput.addEventListener("keydown", e => {
    if (e.key === "Enter") {
      if (passInput.value === "1234") {
        lockScreen.classList.add("hidden");
        startTerminal();
      } else {
        passInput.value = "";
        passInput.placeholder = "Wrong Code";
      }
    }
  });

  // Color cycling handled by CSS animation on #color-cycle

  // Glitch effect on terminal
  function glitchEffect() {
    if (Math.random() < 0.15 && unlocked) {
      terminal.classList.add('glitch');
      setTimeout(() => terminal.classList.remove('glitch'), 200);
    }
  }
  setInterval(glitchEffect, 3000);
</script>

</body>
</html>
