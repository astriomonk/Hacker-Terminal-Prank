<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hacker Terminal</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');
  html, body {
    margin: 0; padding: 0; height: 100%;
    background: black;
    overflow: hidden;
    font-family: 'Share Tech Mono', monospace;
    color: #00ff00;
    user-select: none;
  }
  #container {
    display: flex;
    height: 100%;
  }
  #sidebar {
    width: 250px;
    background: #001100;
    border-right: 2px solid #00ff00;
    padding: 10px;
    box-sizing: border-box;
  }
  #sidebar h2 {
    margin-top: 0;
    font-weight: normal;
    text-align: center;
    border-bottom: 1px solid #00ff00;
    padding-bottom: 8px;
  }
  #profile {
    margin-bottom: 20px;
  }
  #profile div {
    margin: 6px 0;
  }
  #tabs {
    display: flex;
    border-bottom: 1px solid #00ff00;
  }
  .tab {
    flex: 1;
    padding: 6px 0;
    text-align: center;
    cursor: pointer;
    border-right: 1px solid #00ff00;
    user-select: none;
    background: #002200;
  }
  .tab:last-child {
    border-right: none;
  }
  .tab.active {
    background: #003300;
    font-weight: bold;
  }
  #terminal {
    flex: 1;
    background: #000;
    padding: 10px;
    box-sizing: border-box;
    color: #00ff00;
    font-size: 14px;
    line-height: 1.3em;
    overflow-y: auto;
    position: relative;
    white-space: pre-wrap;
  }
  #binary-bg {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none;
    z-index: 0;
  }
  .glitch {
    animation: glitch 0.2s infinite alternate;
  }
  @keyframes glitch {
    0% {
      text-shadow:
        2px 0 red,
        -2px 0 cyan;
    }
    100% {
      text-shadow:
        -2px 0 red,
        2px 0 cyan;
    }
  }
  #easter-egg {
    position: fixed;
    bottom: 10px;
    right: 10px;
    width: 35px;
    height: 35px;
    background: #00ff00;
    opacity: 0.1;
    cursor: pointer;
    border-radius: 5px;
    user-select: none;
    z-index: 10;
    transition: opacity 0.3s ease;
  }
  #easter-egg:hover {
    opacity: 0.5;
  }
  #color-cycle {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none;
    z-index: 1;
    mix-blend-mode: screen;
    animation: colorShift 20s linear infinite;
  }
  @keyframes colorShift {
    0% { filter: hue-rotate(0deg);}
    100% { filter: hue-rotate(360deg);}
  }
  /* Scrollbar for terminal */
  #terminal::-webkit-scrollbar {
    width: 8px;
  }
  #terminal::-webkit-scrollbar-thumb {
    background: #00ff00;
  }
  #terminal::-webkit-scrollbar-track {
    background: #001100;
  }
</style>
</head>
<body>

<canvas id="binary-bg"></canvas>
<div id="color-cycle"></div>

<div id="container">
  <div id="sidebar">
    <h2>Hacker Profile</h2>
    <div id="profile">
      <div><strong>Name:</strong> ZeroCool</div>
      <div><strong>Reputation:</strong> 98.7%</div>
      <div><strong>Access Level:</strong> Root</div>
      <div><strong>Achievements:</strong></div>
      <ul>
        <li>Master Coder</li>
        <li>Network Phantom</li>
        <li>Bug Squasher</li>
        <li>Crypto Ninja</li>
      </ul>
    </div>
    <div id="tabs">
      <div class="tab active" data-tab="terminal">Terminal</div>
      <div class="tab" data-tab="logs">Logs</div>
      <div class="tab" data-tab="netmap">Network Map</div>
    </div>
  </div>
  <div id="terminal" tabindex="0" spellcheck="false"></div>
</div>

<div id="easter-egg" title="Secret Click"></div>

<audio id="soundscape" loop>
  <source src="https://actions.google.com/sounds/v1/office/keyboard_typing_fast.ogg" type="audio/ogg" />
</audio>

<script>
  // Binary background
  const canvas = document.getElementById('binary-bg');
  const ctx = canvas.getContext('2d');
  let width, height;
  let columns;
  let drops = [];
  const binaryChars = ['0', '1'];
  function resize() {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
    columns = Math.floor(width / 14);
    drops = [];
    for(let i = 0; i < columns; i++) {
      drops[i] = Math.random() * height;
    }
  }
  window.addEventListener('resize', resize);
  resize();

  function draw() {
    ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
    ctx.fillRect(0, 0, width, height);
    ctx.fillStyle = '#00ff00';
    ctx.font = '14px monospace';
    for(let i = 0; i < columns; i++) {
      const text = binaryChars[Math.floor(Math.random() * binaryChars.length)];
      ctx.fillText(text, i * 14, drops[i] * 14);
      drops[i] = drops[i] * 14 > height && Math.random() > 0.975 ? 0 : drops[i] + 0.8;
    }
    requestAnimationFrame(draw);
  }
  draw();

  // Terminal tabs
  const tabs = document.querySelectorAll('.tab');
  const terminal = document.getElementById('terminal');

  let currentTab = 'terminal';

  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      tabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      currentTab = tab.dataset.tab;
      updateTerminalContent();
    });
  });

  // Contents for each tab
  const contents = {
    terminal: '',
    logs: '',
    netmap: ''
  };

  // Typing Bot
  const commands = [
    "Connecting to mainframe...",
    "Access granted.",
    "Downloading secret data...",
    "Bypassing firewall...",
    "Decrypting files...",
    "Loading user credentials...",
    "Injecting virus payload...",
    "Compiling exploit modules...",
    "Launching remote shell...",
    "Establishing encrypted channel...",
    "System scan complete.",
    "Backdoor installed.",
    "Packet sniffing in progress...",
    "Firewall disabled.",
    "Privilege escalation successful.",
    "Wiping logs...",
    "Disconnecting."
  ];

  // Logs tab example data
  const logsData = [
    "[12:01] Connection from 192.168.1.101",
    "[12:02] Unauthorized access attempt detected",
    "[12:03] Firewall rules updated",
    "[12:04] Malware signature updated",
    "[12:05] Port scan detected from 10.0.0.5",
    "[12:06] System integrity verified",
    "[12:07] Suspicious login blocked",
    "[12:08] Backup completed",
    "[12:09] New user added: guest",
    "[12:10] Antivirus scan started"
  ];

  // Network Map tab content
  const netMapText = `
    Network Nodes:
    - Mainframe [ONLINE]
    - Proxy Server [ONLINE]
    - Database [OFFLINE]
    - Firewall [ONLINE]
    - VPN Gateway [ONLINE]
    - Intrusion Detection [ONLINE]
  `;

  contents.logs = logsData.join('\n');
  contents.netmap = netMapText;

  // Glitch effect
  let glitchInterval;
  function startGlitch() {
    glitchInterval = setInterval(() => {
      if (currentTab !== 'terminal') return;
      if (Math.random() < 0.15) {
        terminal.classList.add('glitch');
        setTimeout(() => {
          terminal.classList.remove('glitch');
        }, 200);
      }
    }, 3000);
  }
  startGlitch();

  // Color cycling is done by CSS animation on #color-cycle

  // Typing Bot Implementation
  let typingIndex = 0;
  let charIndex = 0;
  let isDeleting = false;
  let typingDelay = 80;
  let pauseDelay = 1200;
  let typingTimer;

  function typeCommand() {
    if (currentTab !== 'terminal') {
      clearTimeout(typingTimer);
      return;
    }
    const currentCommand = commands[typingIndex];
    if (!isDeleting) {
      contents.terminal = contents.terminal + currentCommand.charAt(charIndex);
      charIndex++;
      terminal.textContent = contents.terminal;
      terminal.scrollTop = terminal.scrollHeight;
      if (charIndex === currentCommand.length) {
        isDeleting = true;
        typingTimer = setTimeout(typeCommand, pauseDelay);
      } else {
        typingTimer = setTimeout(typeCommand, typingDelay);
      }
    } else {
      contents.terminal = contents.terminal.slice(0, -1);
      terminal.textContent = contents.terminal;
      terminal.scrollTop = terminal.scrollHeight;
      if (contents.terminal.endsWith(currentCommand.slice(0, charIndex - 1))) {
        charIndex--;
        typingTimer = setTimeout(typeCommand, typingDelay / 2);
      }
      if (charIndex === 0) {
        isDeleting = false;
        typingIndex = (typingIndex + 1) % commands.length;
        typingTimer = setTimeout(typeCommand, typingDelay);
      }
    }
  }

  typeCommand();

  // Update terminal content for tabs other than terminal
  function updateTerminalContent() {
    if (currentTab === 'terminal') {
      terminal.textContent = contents.terminal;
    } else if (currentTab === 'logs') {
      terminal.textContent = contents.logs;
    } else if (currentTab === 'netmap') {
      terminal.textContent = contents.netmap;
    }
    terminal.scrollTop = terminal.scrollHeight;
  }

  // Easter Egg - Clicking the secret box triggers a wild animation
  const egg = document.getElementById('easter-egg');
  let eggActive = false;

  egg.addEventListener('click', () => {
    if (eggActive) return;
    eggActive = true;
    egg.style.opacity = '1';
    glitchInterval && clearInterval(glitchInterval);
    terminal.textContent = '';
    let count = 0;

    const messages = [
      "ACCESS GRANTED",
      "YOU'VE FOUND THE SECRET!",
      "RUNNING FULL SYSTEM OVERRIDE...",
      "LOADING NUCLEAR LAUNCH SEQUENCE...",
      "JUST KIDDING, HAVE A NICE DAY :)"
    ];

    function wildAnim() {
      if(count >= messages.length) {
        egg.style.opacity = '0.1';
        eggActive = false;
        startGlitch();
        updateTerminalContent();
        return;
      }
      terminal.textContent = messages[count];
      terminal.classList.add('glitch');
      terminal.scrollTop = terminal.scrollHeight;
      count++;
      setTimeout(() => {
        terminal.classList.remove('glitch');
        setTimeout(wildAnim, 1500);
      }, 1200);
    }

    wildAnim();
  });

  // Keyboard controls
  document.addEventListener('keydown', e => {
    if (e.key.toLowerCase() === 'f') {
      toggleFullscreen();
    }
  });

  // Fullscreen toggle
  function toggleFullscreen() {
    if (!document.fullscreenElement) {
      document.documentElement.requestFullscreen();
    } else {
      document.exitFullscreen();
    }
  }

  // Soundscape: play quiet keyboard typing sounds looping
  const soundscape = document.getElementById('soundscape');
  soundscape.volume = 0.1;
  soundscape.play().catch(() => {
    // Autoplay might block sound - no worries
  });

  // Focus terminal on load for keyboard scroll
  terminal.focus();
</script>
</body>
</html>
