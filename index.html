<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hacker Terminal</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');
  html, body {
    margin: 0; padding: 0; height: 100%;
    background: black;
    overflow: hidden;
    font-family: 'Share Tech Mono', monospace;
    color: #00ff00;
    user-select: none;
  }
  #binary-bg {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none;
    z-index: 0;
  }
  #color-cycle {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none;
    z-index: 1;
    mix-blend-mode: screen;
    animation: colorShift 20s linear infinite;
  }
  @keyframes colorShift {
    0% { filter: hue-rotate(0deg);}
    100% { filter: hue-rotate(360deg);}
  }
  #terminal {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: transparent;
    padding: 20px;
    box-sizing: border-box;
    font-size: 14px;
    line-height: 1.3em;
    overflow-y: auto;
    white-space: pre-wrap;
    outline: none;
    z-index: 2;
  }
  .glitch {
    animation: glitch 0.2s infinite alternate;
  }
  @keyframes glitch {
    0% { text-shadow: 2px 0 red, -2px 0 cyan; }
    100% { text-shadow: -2px 0 red, 2px 0 cyan; }
  }
  .shake {
    animation: shake 0.4s ease-in-out;
  }
  @keyframes shake {
    0% { transform: translate(0px, 0px); }
    20% { transform: translate(5px, -5px); }
    40% { transform: translate(-5px, 5px); }
    60% { transform: translate(5px, 5px); }
    80% { transform: translate(-5px, -5px); }
    100% { transform: translate(0px, 0px); }
  }
  #command-input {
    background: transparent;
    border: none;
    color: #00ff00;
    font-family: 'Share Tech Mono', monospace;
    font-size: 14px;
    outline: none;
    width: 100%;
  }
  #easter-egg {
    position: fixed;
    bottom: 10px;
    right: 10px;
    width: 35px;
    height: 35px;
    background: #00ff00;
    opacity: 0.1;
    cursor: pointer;
    border-radius: 5px;
    user-select: none;
    z-index: 3;
    transition: opacity 0.3s ease;
  }
  #easter-egg:hover {
    opacity: 0.5;
  }
  #profile {
    position: fixed;
    top: 10px;
    right: 10px;
    width: 240px;
    background: rgba(0, 30, 0, 0.85);
    border: 1px solid #00ff00;
    padding: 12px;
    font-size: 13px;
    line-height: 1.4em;
    z-index: 3;
    user-select: none;
  }
  #profile h2 {
    margin: 0 0 10px 0;
    font-size: 16px;
    border-bottom: 1px solid #00ff00;
    padding-bottom: 6px;
  }
  #profile ul {
    padding-left: 18px;
    margin: 6px 0 0 0;
  }
  .popup {
    position: fixed;
    background: red;
    color: white;
    font-weight: bold;
    padding: 10px 20px;
    z-index: 999;
    border: 2px solid black;
    box-shadow: 0 0 10px white;
    animation: shake 0.3s infinite;
  }
  .progress-bar {
    width: 100%;
    background: rgba(0,255,0,0.2);
    border: 1px solid #0f0;
    height: 15px;
    margin-top: 6px;
    position: relative;
  }
  .progress-fill {
    height: 100%;
    background: #00ff00;
    width: 0%;
    transition: width 0.2s linear;
  }
</style>
</head>
<body>

<canvas id="binary-bg"></canvas>
<div id="color-cycle"></div>

<div id="terminal" tabindex="0" spellcheck="false">
  <div id="terminal-output"></div>
  <input id="command-input" type="text" autofocus />
</div>

<div id="profile">
  <h2>Hacker Profile</h2>
  <div><strong>Name:</strong> ZeroCool</div>
  <div><strong>Reputation:</strong> 98.7%</div>
  <div><strong>Access Level:</strong> Root</div>
  <div><strong>Visitors:</strong> <span id="visitor-count">...</span></div>
  <div><strong>Achievements:</strong></div>
  <ul>
    <li>Master Coder</li>
    <li>Network Phantom</li>
    <li>Bug Squasher</li>
    <li>Crypto Ninja</li>
  </ul>
</div>

<div id="easter-egg"></div>

<audio id="soundscape" loop>
  <source src="https://actions.google.com/sounds/v1/office/keyboard_typing_fast.ogg" type="audio/ogg" />
</audio>

<script>
  const canvas = document.getElementById('binary-bg');
  const ctx = canvas.getContext('2d');
  let width, height, columns, drops = [];
  const binaryChars = ['0', '1'];
  function resize() {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
    columns = Math.floor(width / 14);
    drops = Array(columns).fill(1);
  }
  window.addEventListener('resize', resize);
  resize();
  function draw() {
    ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
    ctx.fillRect(0, 0, width, height);
    ctx.fillStyle = '#0f0';
    ctx.font = '14px monospace';
    drops.forEach((y, i) => {
      const text = binaryChars[Math.floor(Math.random() * 2)];
      ctx.fillText(text, i * 14, y * 14);
      drops[i] = y * 14 > height && Math.random() > 0.975 ? 0 : y + 0.8;
    });
    requestAnimationFrame(draw);
  }
  draw();

  const terminalOutput = document.getElementById('terminal-output');
  const commandInput = document.getElementById('command-input');
  const terminal = document.getElementById('terminal');
  const commands = {
    help: 'help - List commands\nabout - About this terminal\nclear - Clear output\nhack - Begin hacking sequence\npopup - Trigger alert popup',
    about: 'Hacker Terminal v1.0\nSimulated by ChatGPT.',
    clear: 'CLEAR'
  };

  function processCommand(input) {
    const command = input.trim();
    if (!command) return;
    const commandElement = document.createElement('div');
    commandElement.textContent = `> ${command}`;
    terminalOutput.appendChild(commandElement);

    if (command === 'clear') {
      terminalOutput.innerHTML = '';
    } else if (command === 'hack') {
      startHacking();
    } else if (command === 'popup') {
      spawnPopup();
    } else if (commands[command]) {
      const outputElement = document.createElement('div');
      outputElement.textContent = commands[command];
      terminalOutput.appendChild(outputElement);
    } else {
      const errorElement = document.createElement('div');
      errorElement.textContent = `'${command}' is not recognized. Type 'help'.`;
      terminalOutput.appendChild(errorElement);
    }

    terminalOutput.scrollTop = terminalOutput.scrollHeight;
  }

  commandInput.addEventListener('keydown', e => {
    if (e.key === 'Enter') {
      processCommand(commandInput.value);
      commandInput.value = '';
    }
  });

  const messages = [
    "Connecting to mainframe...",
    "Access granted.",
    "Decrypting secure files...",
    "Launching countermeasures...",
    "Installing rootkit...",
    "Downloading intel...",
    "Complete."
  ];
  let typingIndex = 0;
  function typeSim() {
    if (typingIndex >= messages.length) return;
    const line = document.createElement('div');
    line.textContent = messages[typingIndex++];
    terminalOutput.appendChild(line);
    terminalOutput.scrollTop = terminalOutput.scrollHeight;
    setTimeout(typeSim, 1800);
  }
  setTimeout(typeSim, 1500);

  function glitchEffect() {
    if (Math.random() < 0.2) {
      terminalOutput.classList.add('glitch');
      setTimeout(() => terminalOutput.classList.remove('glitch'), 250);
    }
  }
  setInterval(glitchEffect, 3000);

  document.addEventListener('keydown', e => {
    if (e.key.toLowerCase() === 'f') {
      if (!document.fullscreenElement) document.documentElement.requestFullscreen();
      else document.exitFullscreen();
    }
  });

  const sound = document.getElementById('soundscape');
  sound.volume = 0.1;
  sound.play().catch(() => {});

  document.getElementById('easter-egg').addEventListener('click', () => {
    document.body.classList.add('shake');
    setTimeout(() => document.body.classList.remove('shake'), 500);
    ['ACCESS GRANTED','LOADING MODULE...','YOU FOUND THE EGG'].forEach((msg, i) => {
      setTimeout(() => {
        const line = document.createElement('div');
        line.textContent = msg;
        terminalOutput.appendChild(line);
        terminalOutput.scrollTop = terminalOutput.scrollHeight;
      }, i * 1300);
    });
  });

  const count = localStorage.getItem('visitorCount');
  const newCount = count ? parseInt(count) + 1 : 1;
  localStorage.setItem('visitorCount', newCount);
  document.getElementById('visitor-count').textContent = newCount;

  // Hacking Progress
  function startHacking() {
    const line = document.createElement('div');
    line.textContent = "Executing hack...";
    terminalOutput.appendChild(line);
    const progress = document.createElement('div');
    progress.className = "progress-bar";
    const fill = document.createElement('div');
    fill.className = "progress-fill";
    progress.appendChild(fill);
    terminalOutput.appendChild(progress);
    terminalOutput.scrollTop = terminalOutput.scrollHeight;

    document.body.classList.add('shake');
    let percent = 0;
    const interval = setInterval(() => {
      percent += 2;
      fill.style.width = percent + '%';
      if (percent >= 100) {
        clearInterval(interval);
        const done = document.createElement('div');
        done.textContent = "Hack complete.";
        terminalOutput.appendChild(done);
        document.body.classList.remove('shake');
      }
    }, 100);
  }

  // Virus Popups
  function spawnPopup() {
    const popup = document.createElement('div');
    popup.className = 'popup';
    popup.style.top = Math.random() * (window.innerHeight - 100) + 'px';
    popup.style.left = Math.random() * (window.innerWidth - 200) + 'px';
    popup.innerHTML = 'VIRUS DETECTED!<br><button onclick="this.parentElement.remove()">Close</button>';
    document.body.appendChild(popup);
  }
</script>

</body>
</html>
