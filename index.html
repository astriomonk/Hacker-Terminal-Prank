<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hacker Terminal</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');

  /* Fullscreen styles and base */
  html, body {
    margin: 0; padding: 0; height: 100%; overflow: hidden;
    background: black;
    font-family: 'Share Tech Mono', monospace;
    color: #00ff00;
  }

  /* Binary background canvas */
  #binary-canvas {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    z-index: 0;
    background: black;
  }

  /* Terminal container */
  #terminal {
    position: relative;
    z-index: 10;
    max-width: 700px;
    margin: 40px auto 20px auto;
    background: rgba(0,0,0,0.85);
    padding: 20px;
    border: 1px solid #00ff00;
    box-shadow: 0 0 15px #00ff00;
    border-radius: 6px;
    min-height: 400px;
    display: flex;
    flex-direction: column;
    user-select: none;
  }

  /* Terminal output area */
  #terminal-output {
    flex: 1;
    overflow-y: auto;
    white-space: pre-wrap;
    font-size: 14px;
    line-height: 1.4;
    user-select: text;
  }

  /* Input line container */
  #input-line {
    display: flex;
    font-family: 'Share Tech Mono', monospace;
    font-size: 14px;
    color: #00ff00;
    margin-top: 12px;
    border-top: 1px solid #00ff00;
    padding-top: 6px;
  }
  #prompt {
    user-select: none;
    margin-right: 6px;
    color: #00ff00;
  }
  #input {
    flex: 1;
    background: black;
    border: none;
    outline: none;
    color: #00ff00;
    font-family: 'Share Tech Mono', monospace;
    font-size: 14px;
    caret-color: #00ff00;
    padding: 3px 6px;
    box-shadow: 0 0 8px #00ff00 inset;
    border-radius: 4px;
  }
  #input::placeholder {
    color: #007700aa;
  }

  /* Blinking cursor */
  #cursor {
    width: 10px;
    height: 18px;
    background: #00ff00;
    margin-left: 4px;
    animation: blink 1.2s step-start 0s infinite;
    border-radius: 2px;
  }
  @keyframes blink {
    50% { background: transparent; }
  }

  /* Visitors count */
  #visitors {
    margin: 12px auto 0 auto;
    max-width: 700px;
    font-size: 13px;
    text-align: center;
    color: #00cc00;
    user-select: none;
    text-shadow: 0 0 5px #00cc00;
  }
</style>
</head>
<body>

<canvas id="binary-canvas"></canvas>

<div id="terminal" tabindex="0" aria-label="Hacker Terminal">
  <div id="terminal-output"></div>

  <div id="input-line">
    <div id="prompt">>></div>
    <input id="input" type="text" autocomplete="off" spellcheck="false" placeholder="Type a command..."/>
    <div id="cursor"></div>
  </div>
</div>

<div id="visitors">Visitors: 0</div>

<script>
  // Binary code background animation
  const canvas = document.getElementById('binary-canvas');
  const ctx = canvas.getContext('2d');
  let width, height;
  let columns;
  let drops;

  function setupCanvas() {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
    columns = Math.floor(width / 14);
    drops = [];
    for (let x = 0; x < columns; x++) {
      drops[x] = Math.floor(Math.random() * height / 14);
    }
  }
  setupCanvas();

  const binaryChars = ['0','1'];

  function draw() {
    ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
    ctx.fillRect(0, 0, width, height);
    ctx.fillStyle = '#00ff00';
    ctx.font = '14px "Share Tech Mono"';

    for(let i = 0; i < columns; i++) {
      const text = binaryChars[Math.floor(Math.random() * binaryChars.length)];
      ctx.fillText(text, i * 14, drops[i] * 14);

      if (drops[i] * 14 > height && Math.random() > 0.975) {
        drops[i] = 0;
      }
      drops[i]++;
    }
    requestAnimationFrame(draw);
  }
  draw();

  // Terminal typing simulation
  const terminalOutput = document.getElementById('terminal-output');
  const input = document.getElementById('input');
  const cursor = document.getElementById('cursor');
  const visitorsDisplay = document.getElementById('visitors');

  // Fake visitors count using localStorage
  let visitorsCount = localStorage.getItem('visitorCount') || 0;
  visitorsCount = parseInt(visitorsCount) + 1;
  localStorage.setItem('visitorCount', visitorsCount);
  visitorsDisplay.textContent = 'Visitors: ' + visitorsCount;

  // Text to display on terminal
  const lines = [
    "Initializing HackSim v3.14...",
    "Accessing secure server... Access granted.",
    "Establishing encrypted connection...",
    "Fetching user data... 42 records found.",
    "Analyzing traffic logs for anomalies...",
    "Bypassing firewall layers... Layer 1 complete.",
    "Decrypting sensitive files...",
    "Uploading payload...",
    "Payload upload successful.",
    "System override activated.",
    "Scanning network nodes...",
    "Alert! Intrusion detection system triggered!",
    "Launching countermeasures...",
    "Trace route initiated. Hiding IP...",
    "User device masked. Location obscured.",
    "Accessing deep web archives...",
    "Extracting encrypted keys...",
    "Brute forcing password hashes...",
    "Operation complete. Data exfiltrated.",
    "Disconnecting from host.",
    "Session terminated."
  ];

  // Function to print lines with delay
  let lineIndex = 0;
  function typeLines() {
    if (lineIndex >= lines.length) return;
    let line = lines[lineIndex];
    let charIndex = 0;
    let currentLine = '';

    function typeChar() {
      if (charIndex < line.length) {
        currentLine += line[charIndex];
        terminalOutput.textContent = terminalOutput.textContent + line[charIndex];
        charIndex++;
        setTimeout(typeChar, 80); // slower typing speed
      } else {
        terminalOutput.textContent += '\n';
        lineIndex++;
        setTimeout(typeLines, 500); // pause between lines
      }
    }
    typeChar();
  }
  typeLines();

  // Input line functionality (just echo commands)
  input.addEventListener('keydown', e => {
    if (e.key === 'Enter') {
      const command = input.value.trim();
      if (command.length > 0) {
        terminalOutput.textContent += '>> ' + command + '\n';
        terminalOutput.scrollTop = terminalOutput.scrollHeight;
        input.value = '';
      }
    }
  });

  // Scroll output to bottom on input
  input.addEventListener('input', () => {
    terminalOutput.scrollTop = terminalOutput.scrollHeight;
  });

  // Focus input on click anywhere in terminal
  document.getElementById('terminal').addEventListener('click', () => {
    input.focus();
  });

  // Toggle fullscreen on 'F' key press
  document.addEventListener('keydown', e => {
    if (e.key.toLowerCase() === 'f') {
      if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen();
      } else {
        document.exitFullscreen();
      }
    }
  });
</script>

</body>
</html>
